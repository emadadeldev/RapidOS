---
title: Configure notifications
description: Re-enable notifications after disabling it in "Preparation stage", show notification bell icon and disable Security & Maintenance pop-ups
actions:
  # === Enable notifications ===
  - !registryValue:
      path: 'HKCU\SOFTWARE\Microsoft\Windows\CurrentVersion\PushNotifications'
      value: 'ToastEnabled'
      operation: delete
  - !registryValue:
      path: 'HKCU\SOFTWARE\Microsoft\Windows\CurrentVersion\Notifications\Settings'
      value: 'NOC_GLOBAL_SETTING_TOASTS_ENABLED'
      operation: delete
  - !registryValue:
      path: 'HKCU\SOFTWARE\Microsoft\Windows\CurrentVersion\Notifications\Settings'
      value: 'NOC_GLOBAL_SETTING_ALLOW_TOASTS_ABOVE_LOCK'
      operation: delete
  - !registryValue:
      path: 'HKLM\SOFTWARE\Policies\Microsoft\Windows\Explorer'
      value: 'DisableNotificationCenter'
      operation: delete
    
  # === Show notification bell icon ===
  - !registryValue: 
      path: 'HKCU\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\Advanced'
      value: 'ShowNotificationIcon'
      type: REG_DWORD
      data: '1'

  # === Disables Security and Maintenance pop-ups (e.g., firewall alerts) ===
  - !registryValue:
      path: 'HKCU\SOFTWARE\Microsoft\Windows\CurrentVersion\Notifications\Settings\Windows.SystemToast.SecurityAndMaintenance'
      value: 'Enabled'
      type: REG_DWORD
      data: '0'

  # === Restart notification services ===
  - !service:
      ignoreErrors: true
      name: "WpnService"
      operation: start
  - !service:
      ignoreErrors: true
      name: "WpnUserService*"
      operation: start